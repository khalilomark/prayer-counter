<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#667eea">
    <title>ุนุฏุงุฏ ุงูุฑูุนุงุช ุงูุชููุงุฆู</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    
    <!-- ุฃููููุงุช ููู iOS -->
    <link rel="apple-touch-icon" sizes="180x180" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect fill='%23667eea' width='100' height='100'/%3E%3Ctext x='50' y='60' font-size='50' text-anchor='middle' fill='white'%3E๐%3C/text%3E%3C/svg%3E">
</head>
<body>
    <div class="container">
        <header>
            <h1>๐ ุนุฏุงุฏ ุงูุฑูุนุงุช ุงูุชููุงุฆู</h1>
            <p class="subtitle">ุถุน ุงููุงุชู ุนูู ุงูุฃุฑุถ ุฃูุงูู ูู ููุถุน ุงูุณุฌูุฏ</p>
        </header>

        <div class="status-bar">
            <div class="status-item">
                <span class="label">ุงูุญุงูุฉ:</span>
                <span id="status" class="status-value">ุฌุงูุฒ</span>
            </div>
            <div class="status-item">
                <span class="label">ุงููุถุนูุฉ:</span>
                <span id="pose" class="pose-value">ุบูุฑ ูุญุฏุฏ</span>
            </div>
        </div>

        <div class="counter-display">
            <div class="counter-label">ุนุฏุฏ ุงูุฑูุนุงุช</div>
            <div class="counter-number" id="rakaatCount">0</div>
        </div>

        <div class="video-container">
            <video id="video" autoplay playsinline></video>
            <canvas id="canvas"></canvas>
            <div class="video-guide">
                <div class="guide-text">๐ฑ ุงููุงููุฑุง ุชูุธุฑ ููุฃุนูู</div>
            </div>
        </div>

        <div class="controls">
            <button id="startBtn" class="btn btn-primary">
                <span class="btn-icon">๐น</span>
                ุจุฏุก ุงูุชุณุฌูู
            </button>
            <button id="stopBtn" class="btn btn-danger" style="display:none;">
                <span class="btn-icon">โน๏ธ</span>
                ุฅููุงู
            </button>
            <button id="resetBtn" class="btn btn-secondary">
                <span class="btn-icon">๐</span>
                ุฅุนุงุฏุฉ ุชุนููู
            </button>
        </div>

        <div class="prayer-sequence">
            <h3>ุชุณูุณู ุงูุฑูุนุฉ:</h3>
            <div class="sequence-steps" id="sequenceSteps">
                <div class="step">1๏ธโฃ ููุงู</div>
                <div class="step">2๏ธโฃ ุฑููุน</div>
                <div class="step">3๏ธโฃ ุณุฌูุฏ ุฃูู</div>
                <div class="step">4๏ธโฃ ุฌููุณ</div>
                <div class="step">5๏ธโฃ ุณุฌูุฏ ุซุงูู</div>
            </div>
        </div>

        <div class="info-box">
            <h3>๐ ููุงุญุธุงุช ูููุฉ:</h3>
            <ul>
                <li>ุถุน ุงููุงุชู ุนูู ุงูุฃุฑุถ ูุจุงุดุฑุฉ ุฃูุงูู (ุญูุซ ุชุณุฌุฏ)</li>
                <li>ุงููุงููุฑุง ุชูุธุฑ ููุฃุนูู ูุญู ูุฌูู</li>
                <li>ุงููุณุงูุฉ ุงููุซุงููุฉ: 30-50 ุณู ูู ููุถุน ุงูุณุฌูุฏ</li>
                <li>ุซุจูุช ุงููุงุชู ุจุญูุซ ูุง ูุชุญุฑู ุฃุซูุงุก ุงูุตูุงุฉ</li>
                <li>ุชุฃูุฏ ูู ูุฌูุฏ ุฅุถุงุกุฉ ุฌูุฏุฉ ูู ุงูุฃุนูู</li>
                <li>ุงุชุฑู ุงูุดุงุดุฉ ูุถุงุกุฉ (ุงูุชุทุจูู ูููุน ุงูุฅุทูุงุก ุชููุงุฆูุงู)</li>
                <li>โ ุงูุชุทุจูู ูุนูู ูุญููุงู - ูุง ูุชู ุฅุฑุณุงู ุฃู ุจูุงูุงุช</li>
            </ul>
        </div>

        <div class="tips-box">
            <h3>๐ก ูุตุงุฆุญ ููุญุตูู ุนูู ุฃูุถู ูุชุงุฆุฌ:</h3>
            <div class="tip">
                <strong>โ ุงูุนู:</strong>
                <p>ุถุน ุงููุงุชู ุนูู ุณุทุญ ูุณุชูู โข ุฃููู ูู ุญุฑูุฉ ุจูุถูุญ โข ุงุณุชุฎุฏู ุฅุถุงุกุฉ ุฌูุฏุฉ</p>
            </div>
            <div class="tip">
                <strong>โ ูุง ุชูุนู:</strong>
                <p>ูุง ุชุญุฌุจ ุงููุงููุฑุง โข ูุง ุชุชุญุฑู ุจุณุฑุนุฉ โข ูุง ุชุณุชุฎุฏู ูู ุงูุธูุงู</p>
            </div>
        </div>
    </div>

    <!-- ุชุญููู MediaPipe -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose/pose.js" crossorigin="anonymous"></script>
    
    <!-- ุชุทุจูู JavaScript -->
    <script src="app.js"></script>
    
    <!-- ุชุณุฌูู Service Worker ููุนูู ุจุฏูู ุฅูุชุฑูุช -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => {
                        console.log('โ Service Worker ูุณุฌู ุจูุฌุงุญ');
                    })
                    .catch(error => {
                        console.log('โ ูุดู ุชุณุฌูู Service Worker:', error);
                    });
            });
        }
        
        // ููุน zoom ุนูู iOS
        document.addEventListener('gesturestart', e => e.preventDefault());
        document.addEventListener('gesturechange', e => e.preventDefault());
        document.addEventListener('gestureend', e => e.preventDefault());
    </script>
</body>
</html>
